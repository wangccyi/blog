{{/* =====================================================
åˆå§‹åŒ– Scratch
- ç”¨äºä¸´æ—¶å­˜å‚¨æ‰€æœ‰ meta ä¿¡æ¯
- æœ€åç»Ÿä¸€æ‹¼æ¥è¾“å‡º
===================================================== */}}
{{- $scratch := newScratch }}

{{/* =====================================================
åˆ›å»ºæ—¥æœŸï¼ˆDateï¼‰
- å¦‚æœæ–‡ç« æœ‰ date
- æ˜¾ç¤ºâ€œåˆ›å»ºæ—¥æœŸâ€
===================================================== */}}
{{- if not .Date.IsZero -}}
{{- $scratch.Add "meta" (slice (
printf "<span title='%s'>ğŸ¬ åˆ›å»ºæ—¥æœŸï¼š%s</span>"
(.Date)
(.Date | time.Format (default "January 2, 2006" site.Params.DateFormat))
)) -}}
{{- end }}

{{/* =====================================================
æœ€åæ›´æ–°æ—¶é—´ï¼ˆLastmodï¼‰
- ç”±å‚æ•° ShowLastMod æ§åˆ¶
===================================================== */}}
{{- if (.Param "ShowLastMod") -}}
{{- if not .Lastmod.IsZero -}}
{{- $scratch.Add "meta" (slice (
printf "<span title='%s'>ğŸ“… æœ€åæ›´æ–°ï¼š%s</span>"
(.Lastmod)
(.Lastmod.Format (.Site.Params.dateFormat | default "2006-01-02"))
)) -}}
{{- end -}}
{{- end }}

{{/* =====================================================
é˜…è¯»æ—¶é•¿ï¼ˆReading Timeï¼‰
- ç”± ShowReadingTime æ§åˆ¶
===================================================== */}}
{{- if (.Param "ShowReadingTime") -}}
{{- $scratch.Add "meta" (slice (
printf "â²ï¸ æ—¶é•¿ï¼š%s"
(i18n "read_time" .ReadingTime
| default (printf "%d min" .ReadingTime))
)) -}}
{{- end }}

{{/* =====================================================
å­—æ•°ç»Ÿè®¡ï¼ˆWord Countï¼‰
- ç”± ShowWordCount æ§åˆ¶
===================================================== */}}
{{- if (.Param "ShowWordCount") -}}
{{- $scratch.Add "meta" (slice (
printf "ğŸ“– å­—æ•°ï¼š%s"
(i18n "words" .WordCount
| default (printf "%d å­—" .WordCount))
)) -}}
{{- end }}

{{/* =====================================================
ä½œè€…ä¿¡æ¯
- å†…å®¹æ¥è‡ª partial: author.html
- å¯åœ¨è¯¥ partial å†…éƒ¨è‡ªè¡Œæ§åˆ¶æ˜¾ç¤ºé€»è¾‘
===================================================== */}}
{{- with (partial "author.html" .) -}}
{{- $scratch.Add "meta" (slice .) -}}
{{- end }}

{{/* =====================================================
è¾“å‡º meta ä¿¡æ¯
- ä½¿ç”¨ | ä½œä¸ºåˆ†éš”ç¬¦
- safeHTML å…è®¸ span / emoji æ­£å¸¸æ¸²æŸ“
===================================================== */}}
{{- with ($scratch.Get "meta") -}}
{{- delimit . "&nbsp;|&nbsp;" | safeHTML -}}
{{- end -}}
